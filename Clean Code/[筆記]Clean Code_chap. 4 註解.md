---
title: '[ç­†è¨˜]Clean Code_chap. 4 è¨»è§£'
tags: [æ›¸æœ¬-Clean Code]

---

# [ç­†è¨˜]Clean Code_chap. 4 è¨»è§£

:::info 
:bulb: ã€Œæ€éº¼æ¨£èƒ½è®“è‡ªå·±çš„ç¨‹å¼ç¢¼å¯«å¾—è¶Šä¾†è¶Šå¥½ã€ã€ã€Œæ€éº¼æ¨£çš„ç¨‹å¼ç¢¼å¯ä»¥è·Ÿåˆ¥äººåˆä½œæ„‰å¿«ã€ï¼Œé€™æ˜¯åœ¨æˆç‚ºè»Ÿé«”å·¥ç¨‹å¸«çš„è·¯ä¸Šï¼Œå‡ºç¾çš„ç–‘å•ï¼Œæ–¼æ˜¯æ‰¾åˆ°äº†é€™æœ¬æ›¸ã€‚
:::


## :+1: ç« ç¯€é‡é»

### :small_blue_diamond: ä½œè€…å°æ–¼ä½¿ç”¨è¨»è§£çš„èªçŸ¥
### :small_blue_diamond: ä¾‹å¤–å¾—ä½¿ç”¨è¨»è§£çš„æƒ…æ³


## ğŸ–Šï¸  ä½œè€…å°æ–¼ä½¿ç”¨è¨»è§£çš„èªçŸ¥

1. æœ¬æ›¸ä½œè€…èªç‚ºã€Œå³ä¾¿åœ¨æœ€å¥½çš„æƒ…æ³ä¸‹ï¼Œè¨»è§£ä¸éæ˜¯å¿…è¦ä¹‹æƒ¡ã€ã€‚ä»–å¼•ç”¨äº†Brain W. Kernighanå’Œ P.J. Plaugherçš„è©±ã€Œä¸è¦æ›¿ç³Ÿç³•çš„ç¨‹å¼ç¢¼å¯«è¨»è§£--é‡å¯«ä»–ã€ã€‚

      (1) ç¯„ä¾‹:
    ```
    // Check to see if the employee is eligible for full benefits
    if ((emplyee.flags & HOURLY_FLAG) && (employee.age > 65))
    ```
      (2) æ”¹å¯«å¾Œ:

    `if (employee.isEligiableForFullBenefits())`

2. ç”±æ­¤å¯çŸ¥ï¼Œä½œè€…å°æ–¼è¨»è§£çš„ä½¿ç”¨ï¼Œæ˜¯åŸå‰‡ä¸Šèƒ½ä¸ç”¨å°±ç›¡é‡ä¸ç”¨ï¼Œ**å¯«è¨»è§£ä¸å¦‚å–å€‹å¥½çš„å‡½å¼æˆ–é¡åˆ¥åç¨±**ã€‚
3. ä¸ä½¿ç”¨çš„ç†ç”±åŒ…å«

      (1) è¨»è§£ä¸ä¸€å®šæ¯æ¬¡éƒ½èƒ½è·Ÿè‘—ä¸€èµ·ç§»å‹•ï¼Œæœ‰å¯èƒ½ä¸å°å¿ƒè¢«å¿½ç•¥

      (2) è¨»è§£ç„¡æ³•å½Œè£œç³Ÿç³•çš„ç¨‹å¼ç¢¼

      (3) å¯èƒ½ç”¢ç”Ÿç³Ÿç³•çš„è¨»è§£ï¼Œåƒæ˜¯
    
    - å¼·è¿«ä½ å»çœ‹å…¶ä»–å¥—ä»¶çš„å–ƒå–ƒè‡ªèª
    ```
    public void loadProperties()
    {
        try
        {
            String propertiesPath = propertiesLocation + "" + PROPERTIES_FILE;
            ...
        }
        catch(IOExpection e)
        {
            //No properties files means all defaults are loaded.
        }
        }
    ```
    - æ²’æœ‰æ¯”ç¨‹å¼ç¢¼æœ¬èº«é€æ¼æ›´å¤šè¨Šæ¯ï¼Œä¹Ÿæ²’æœ‰è§£é‡‹åˆ°ç¨‹å¼ç¢¼çš„å¤šé¤˜è¨»è§£
    ```
        public abstract class ContainerBase
        implements Container, Lifecycle, Pipeline,
        MBeanRegistration, Serializable{
        
        /**
         *The processor delay for this component.
         */
        protected int backgroundProcessorDelay = -1;
        ......
        }

    ```
    - èª¤å°å‹è¨»è§£
    
        å‡ºæ–¼å¥½æ„ï¼Œä½†å¯«ä¸‹ä¸ç²¾ç¢ºçš„è¨»è§£
    `// Utility method that returns when this.closed is true.`ä½†å¯¦éš›ä¸Šæ˜¯ï¼Œ`//...when this.closed is judged to be true.`
    
    - è¦å®šå‹è¨»è§£
    åƒæ˜¯åœ¨æ¯è¡Œç¨‹å¼ç¢¼éƒ½æ‰“è¨»è§£ã€‚
    
    - æ—¥èªŒå‹/HTMLå‹å¼è¨»è§£
    
        A. æœ‰çš„äººæœƒåœ¨é–‹å§‹ç·¨è¼¯ç¨‹å¼ç¢¼æ™‚ï¼ŒåŠ ä¸Šè¨»è§£ï¼Œæ—¥ç©æœˆç´¯æˆæ—¥èªŒå‹è¨»è§£ï¼Œä½†ç¾åœ¨æœ‰ç‰ˆæ§ç³»çµ±å¯ç”¨ã€‚
        
        B. è¨»è§£ä¸­æœ‰HTML(ç¯„ä¾‹å¦‚ä¸‹)ï¼Œé€™è¦ç”¨å·¥å…·æ”¹å–„ï¼Œè€Œä¸æ˜¯ç¨‹å¼è¨­è¨ˆå¸«çš„è²¬ä»»ã€‚
    ![450367349_923245349561653_5879357480707164258_n (1)](https://hackmd.io/_uploads/SJMsCbluA.jpg)

    
    - ä½ç½®çš„æ¨™èªŒç‰©
    `åƒæ˜¯ //Actions //////////`
    
    - å³å¤§æ‹¬è™Ÿå¾Œé¢çš„è¨»è§£
    
        A. åœ¨çŸ­å°å°è£å‹å‡½å¼ä¸æ¨è–¦ä½¿ç”¨
    
        B. æœ‰æ·±å±¤å·¢ç‹€çµæ§‹æ™‚å¯ï¼Œç¯„ä¾‹å¦‚ä¸‹
    ![450013073_1115948736137607_7769133570248316198_n (1)](https://hackmd.io/_uploads/rJEMCbgdR.jpg)

    
    - è¢«è¨»è§£çš„ç¨‹å¼ç¢¼ï¼Œæœƒå°è‡´ç‰ˆé¢äº‚ï¼Œä¸”åˆ¥äººæœƒä¸æ•¢åˆªã€‚
    
    - éå€åŸŸæ€§çš„è³‡è¨Š
    
    è¨»è§£æ˜¯ç”¨ä¾†æè¿°é™„è¿‘çš„ç¨‹å¼ç¢¼ï¼Œä¸è¦æ”¾å…¥å…¨åŸŸè³‡è¨Š(å¦‚é è¨­é€£æ¥åŸ )ã€‚
    
    - éå¤šçš„è³‡è¨Š
    
    ä¸è¦æŠŠæ­·å²è¨è«–ç´€éŒ„æˆ–ä¸ç›¸é—œç´°ç¯€æ”¾é€²è¨»è§£ã€‚
    

## ğŸ–Šï¸  ä¾‹å¤–å¾—ä½¿ç”¨è¨»è§£çš„æƒ…æ³
(ä¸€) æ³•å¾‹å‹è¨»è§£
1. åœ¨æ¯å€‹åŸå§‹ç¢¼æª”æ¡ˆé–‹é ­å¯«å…¥**è‘—ä½œæ¬Šè²æ˜**åŠ**ä½œè€…è³‡è¨Š**
2. å¯ä»¥åƒè€ƒæ¨™æº–çš„è¨±å¯æˆ–å…¶ä»–å¤–éƒ¨æ–‡ä»¶

(äºŒ) è³‡è¨Šå‹è¨»è§£

æä¾›è³‡è¨Šçš„è¨»è§£å¦‚ä¸‹
```
//  format matched kk:mm:ss EEE, MMM dd, yyyy
Pattern timeMatcher = Pattern.compile(
    "\\d*:\\d*:\\d* \\w*, \\w* \\d*, \\d*");
```
å°±ä»¥ä¸Šç¯„ä¾‹è€Œè¨€ï¼Œä½œè€…èªç‚ºæŠŠç¨‹å¼ç§»åˆ°é¡åˆ¥ä¸­ï¼Œè€Œè©²é¡åˆ¥å¯ä»¥è½‰æ›æ—¥æœŸå’Œæ™‚é–“çš„æ ¼å¼ï¼Œæœƒæ›´æ¸…æ¥šï¼Œè€Œä¸ç”¨å†åŠ è¨»è§£ã€‚
```
import java.util.regex.*;

public class DateTimeUtils {
    private static final String TIME_PATTERN = "\\d*:\\d*:\\d* \\w*, \\w* \\d*, \\d*";
    private static final Pattern timeMatcher = Pattern.compile(TIME_PATTERN);

    public static boolean isValidTimeFormat(String timeString) {
        Matcher matcher = timeMatcher.matcher(timeString);
        return matcher.matches();
    }
}
```


(ä¸‰) å°æ„åœ–çš„è§£
```
//This is the best attempt to get a race condition
//by creating large number of threads.
```

(å››) é—¡æ˜

æŠŠé›£è§£çš„åƒæ•¸æˆ–å›å‚³ç›´ç¿»è­¯æˆæœ‰å¯è®€æ€§çš„æ–‡å­—ï¼Œé›£è§£çš„åƒæ•¸å¯èƒ½æ˜¯æ¨™æº–å‡½å¼åº«çš„ä¸€éƒ¨åˆ†æˆ–æ˜¯æŸå€‹ä¸èƒ½ä¿®æ”¹çš„å‡½å¼ã€‚

(äº”) å°æ–¼å¾Œæœçš„å‘Šèª¡

`//don't run unless you have some time to kill.`

(å…­) TODOè¨»è§£
```
// TODO-MdM these are needed
// We expect this to go away when we do the checkout model
```
ä½†æ­¤ç¨®è¨»è§£ä¸å¾—ä½œç‚ºç•™ä¸‹ç³Ÿç³•ç¨‹å¼ç¢¼çš„ç†ç”±ã€‚

(ä¸ƒ) æ”¾å¤§é‡è¦æ€§

æ”¾å¤§æŸäº›çœ‹ä¼¼ç„¡é—œç·Šè¦çš„äº‹çš„é‡è¦æ€§

(å…«) å…¬å…±APIçš„Javadoc

## ğŸ–Šï¸  æœ¬ç« çš„é‡æ§‹ç¯„ä¾‹
é–±è®€é‡é»:

1.å–å

2.å‡½å¼ç”±ä¸Šè€Œä¸‹çš„é‚è¼¯

3.å¿…è¦çš„è¨»è§£(é–‹é ­çš„æ¼”ç®—æ³•èªªæ˜ï¼Œä»¥åŠä¸­å¾Œæ®µä½¿ç”¨å¹³æ–¹æ ¹è¨ˆç®—çš„åŸå› )
![449746217_278647338644925_7467604438634551098_n](https://hackmd.io/_uploads/BkqIvGgOA.jpg)
![450512865_1133643027866648_6039643173834998074_n](https://hackmd.io/_uploads/rJ_jvMgu0.jpg)


## ğŸ¤” ç–‘å•

#### 1.ä»€éº¼æ˜¯éœæ…‹åˆå§‹å™¨?  
Ans: æ˜¯ç”±staticä¿®é£¾çš„èªå¥{...}ã€‚


## ğŸ“– ä¸‹ä¸€ç« ç¯€ä¸»é¡Œé å‘Š
        
åœ¨äº†è§£åŸºæœ¬å®šç¾©å¾Œï¼Œä¸‹ä¸€ç« è¦è«‡çš„æ˜¯ç·¨æ’ ã€‚