---
title: '[ç­†è¨˜]Clean Code_chap. 2 æœ‰æ„ç¾©çš„å‘½å'
tags: [æ›¸æœ¬-Clean Code]

---

# [ç­†è¨˜]Clean Code_chap. 2 æœ‰æ„ç¾©çš„å‘½å

:::info 
:bulb: ã€Œæ€éº¼æ¨£èƒ½è®“è‡ªå·±çš„ç¨‹å¼ç¢¼å¯«å¾—è¶Šä¾†è¶Šå¥½ã€ã€ã€Œæ€éº¼æ¨£çš„ç¨‹å¼ç¢¼å¯ä»¥è·Ÿåˆ¥äººåˆä½œæ„‰å¿«ã€ï¼Œé€™æ˜¯åœ¨æˆç‚ºè»Ÿé«”å·¥ç¨‹å¸«çš„è·¯ä¸Šï¼Œå‡ºç¾çš„ç–‘å•ï¼Œæ–¼æ˜¯æ‰¾åˆ°äº†é€™æœ¬æ›¸ã€‚
:::


## :+1: ç« ç¯€é‡é»

### :small_blue_diamond: ä½•è¬‚æœ‰æ„ç¾©çš„å‘½å
### :small_blue_diamond: æ§‹æˆæœ‰æ„ç¾©å‘½åçš„åŸºæœ¬åŸå‰‡


## ğŸ–Šï¸  ä»€éº¼æ˜¯æœ‰æ„ç¾©çš„å‘½å

ä½œè€…èªç‚ºä¸ç®¡æ˜¯è®Šæ•¸ã€å‡½å¼æˆ–é¡åˆ¥çš„åç¨±éƒ½è¦å‘Šè¨´äºº**ç‚ºä»€éº¼æœƒåœ¨é€™è£¡å‡ºç¾**ã€**è¦åšä»€éº¼**ï¼Œä»¥åŠ**å¦‚ä½•ä½¿ç”¨**å®ƒã€‚èˆ‰ä¾‹è€Œè¨€ï¼Œ
è¼ƒå·®çš„å‘½åæ–¹å¼:
```
pulic List<int[]> getThem() {
    List<int[]> list1 = new ArrayList<int[]>();
    for (int[] x: theList)
        if (x[0]==4)
            list1.add(x);
    return list1;
}
```

ä¿®æ”¹å¾Œï¼Œæ‰çŸ¥é“åŸä¾†æ˜¯æ’æ——éŠæˆ²
```
pulic List<int[]> getFlaggedCells() {
    List<int[]> flaggedCells = new ArrayList<int[]>();
    for (int[] cell: gameBoard)
        if (cell[STATUS_VALUE]== FLAGGED)
            flaggedCells.add(cell);
    return flaggedCells;
}
```
ç”šè‡³å¯ä»¥å‰µé€ é¡åˆ¥**Cell**ï¼Œä¸¦åœ¨é¡åˆ¥ä¸­è¨­è¨ˆæœ‰æ„åœ–çš„å‡½å¼(isFlagged)ï¼Œå–ä»£æ•´æ•¸é™£åˆ—
```
pulic List<Cell> getFlaggedCells() {
    List<Cell> flaggedCells = new ArrayList<Cell>();
    for (Cell cell: gameBoard)
        if (cell.isFlagged())
            flaggedCells.add(cell);
    return flaggedCells;
}
```

## ğŸ–Šï¸  æœ‰æ„ç¾©å‘½åçš„åŸºæœ¬åŸå‰‡
**Do**

(ä¸€)ç”¢ç”Ÿæœ‰æ„ç¾©çš„å€åˆ¥
1. åƒæ˜¯ä½¿ç”¨æ•¸å­—åºåˆ—å‘½åæ³•(a1,a2,a3...an)å°±é•èƒŒæ­¤åŸå‰‡ã€‚
2. ç”¨Infoã€Dataæˆ–variableé€™ç¨®ä¸å¯å€åˆ†çš„ç„¡æ„ç¾©å­—è©ã€‚
3. åƒæ˜¯moneyå’ŒmoneyAmountã€theMessageå’Œmessageã€CustomerInfoå’ŒCustomerå°±æ²’æœ‰å€åˆ¥æ€§ã€‚

(äºŒ)ä½¿ç”¨å¯ä»¥å¿µå¾—å‡ºä¾†çš„åç¨±

1. genymdhms(æ„æŒ‡ç”¢ç”Ÿæ—¥æœŸã€å¹´ã€æœˆã€å¤©ã€å°æ™‚...) vs. generationTimestampï¼Œç›¸è¼ƒä¹‹ä¸‹ï¼Œå‰è€…é‚„éœ€è¦é¡å¤–è§£é‡‹ã€‚

(ä¸‰)ä½¿ç”¨å¯è¢«æœå°‹çš„åå­—
1. ä½¿ç”¨å–®ä¸€å­—æ¯æˆ–æ•¸å€¼å‘½åä¸å®¹æ˜“åœ¨æ–‡ä¸­è¢«æ‰¾åˆ°ï¼Œå› æ­¤ï¼Œæœ‰æ™‚é•·å‘½åå‹éçŸ­å‘½åã€‚
2. è¼ƒå·®çš„ç¯„ä¾‹:
```
for(int j=0 j<34; j++){
    s += (t[j]*4)/5;
}
```
è¼ƒä½³çš„ç¯„ä¾‹:
```
int realDaysPerIdealDay = 4;
const int WORK_PER_WEEK = 5;
int sum = 0;
    for(int j=0 j<NUMBER_OF_TASKS; j++){
        int realTaskDays = taskEstimat[j]*realDaysPerIdealDay;
        ...
}
```

(å››)æ¯å€‹æ¦‚å¿µä½¿ç”¨ä¸€ç¨®å­—è©

ç‚ºä¸€æŠ½è±¡æ¦‚å¿µæŒ‘é¸ä¸€å­—è©ï¼Œä¸¦æŒçºŒä½¿ç”¨ï¼Œå¦‚åŒä¸€ç¨‹å¼åº«ä¸­ï¼ŒDeviceManagerå’ŒProtocalControllerè‹¥ç„¡å¯¦è³ªå·®ç•°çš„è©±æ˜¯ä¸æ˜¯éƒ½å¯æ”¹æˆcontrolleræˆ–manager?

(äº”)ä½¿ç”¨è§£æ±ºæ–¹æ¡ˆ/å•é¡Œé ˜åŸŸçš„å‘½å

1. ç›¡é‡ä½¿ç”¨è¡Œè©±ï¼Œå¦‚AccountVisitoræˆ–JobQueueã€‚
2. è‹¥æ²’æœ‰CSè¡Œè©±ï¼Œå°±ç”¨Domain Knowledgeé ˜åŸŸçš„è¡“èªã€‚

(å…­)åŠ ä¸Šæœ‰æ„ç¾©çš„ä¸Šä¸‹æ–‡è³‡è¨Šï¼Œä½†ä¸èƒ½ç„¡ç†ç”±æ·»åŠ 
1. åˆ©ç”¨å­—é¦–å¢åŠ ä¸Šä¸‹æ–‡è³‡è¨Šï¼Œå¦‚addFirstNameã€‚
2. åƒæ˜¯accountAddressã€customerAddresså°æ–¼ç‰©ä»¶å¯¦é«”æ˜¯ä¸éŒ¯å‘½åï¼Œä½†å°æ–¼é¡åˆ¥ä¾†èªªä¸æ˜¯ã€‚é©åˆé¡åˆ¥çš„å‘½åæ˜¯Addressã€‚

(ä¸ƒ) é¡åˆ¥çš„å‘½åå»ºè­°ç”¨åè©æˆ–åè©ç‰‡èªï¼Œå¦‚Customerã€Accountç­‰ã€‚

(å…«) æ–¹æ³•çš„å‘½åå»ºè­°ç”¨å‹•è©æˆ–å‹•è©ç‰‡èªï¼Œå¦‚deletePageã€‚
1. æ ¹æ“šjavabeanæ¨™æº–ï¼Œå–å‡ºå™¨(accessors)æœƒç”¨getç•¶å­—é¦–ï¼Œå¦‚getName()ã€‚
2. ä¿®æ”¹å™¨(mutators)æœƒä½¿ç”¨setç•¶å­—é¦–ï¼Œè€Œåˆ¤å®š(predicates)æœƒä½¿ç”¨isç•¶å­—é¦–ã€‚
3. ç•¶å»ºæ§‹å­å¤šè¼‰(overloaded)ï¼Œå»ºè­°ä½¿ç”¨åç¨±å«æœ‰åƒæ•¸è³‡è¨Šçš„éœæ…‹å·¥å» æ–¹æ³•ï¼Œå¦‚FromRealNumber(23.0)ï¼Œä»¥åŠå°‡å°æ‡‰çš„å»ºæ§‹å­è¨­å®šç‚ºç§æœ‰(private)å‡½å¼ã€‚

**DON'T**

(ä¸€)é¿å…ä½¿ç”¨èª¤å°æ€§å­—è©
1. é¿å…ä½¿ç”¨èˆ‡åŸæ„ç›¸é•èƒŒçš„å­—è©ï¼Œå¦‚hpã€aixã€scoï¼Œå› ç‚ºä»–å€‘æ˜¯Unixå¹³å°çš„åç¨±ã€‚
2. ä½¿ç”¨accountListç•¶æˆå¸³æˆ¶è®Šæ•¸ï¼Œä½†æ˜¯è³‡æ–™å‹æ…‹å»ä¸æ˜¯Listï¼Œæ­¤æ™‚å»ºè­°ç”¨accountGroupã€‚
3. ç”¨læˆ–Oå‘½åï¼Œå› ç‚ºä»–å€‘å¤ªåƒæ•¸å­—1ã€0äº†ã€‚

(äºŒ)é¿å…ç·¨ç¢¼

1. æ—©æœŸæœƒå°‡å‹æ…‹æˆ–è¦–é‡è³‡è¨Šç·¨ç¢¼åˆ°åç¨±æˆ–æ˜¯åœ¨æˆå“¡è®Šæ•¸å‰åŠ m_ï¼Œç¾åœ¨ä¸ç”¨é€™éº¼åšäº†ã€‚
2. ç‰¹ä¾‹æƒ…æ³ä¸‹ä½¿ç”¨ç·¨ç¢¼ï¼Œå¦‚åœ¨æŠ½è±¡å·¥å» çš„æ¦‚å¿µä¸‹ï¼Œå·¥å» (ä»‹é¢)æœƒå‘½åç‚ºShapeFactoryï¼Œè€Œå¯¦ä½œçš„éƒ¨åˆ†å‘½åç‚ºShapeFactoryImpã€‚

(ä¸‰)é¿å…æ€ç¶­è½‰æ›

é™¤äº†åƒæ˜¯è¿´åœˆè¨ˆæ•¸è®Šæ•¸åœ¨ç´„å®šä¿—æˆä¸Šæœƒä½¿ç”¨iã€jã€kã€‚

(å››)é¿å…ä½¿ç”¨é›™é—œèª

åƒæ˜¯addå’Œappend(é™„åŠ )å’Œinsert(æ’å…¥)åœ¨ä½¿ç”¨æƒ…å¢ƒä¸Šä¸åŒï¼Œæ‰€ä»¥ä¸èƒ½äº’ç›¸é€šç”¨ã€‚




## ğŸ¤” ç–‘å•

#### 1.ä»€éº¼æ˜¯jaræª”ã€waræª”ã€earæª”?  
Ans: JAR (Java ARchive) æª”æ˜¯ Java å¹³å°ä¸Šç”¨æ–¼å°è£å¤šå€‹æª”æ¡ˆï¼ˆé€šå¸¸æ˜¯ Java é¡å’Œè³‡æºæª”æ¡ˆï¼‰åˆ°å–®ä¸€å£“ç¸®æª”æ¡ˆçš„æ ¼å¼ï¼›WAR (Web Application Archive) æª”æ˜¯ç”¨æ–¼åˆ†ç™¼å’Œéƒ¨ç½² Java Web æ‡‰ç”¨ç¨‹å¼çš„å£“ç¸®æª”æ¡ˆï¼›EAR (Enterprise Archive) æª”æ˜¯ç”¨æ–¼åˆ†ç™¼å’Œéƒ¨ç½² Java EEï¼ˆä¼æ¥­ç‰ˆï¼‰æ‡‰ç”¨ç¨‹å¼çš„å£“ç¸®æª”æ¡ˆã€‚

#### 2.ä»€éº¼æ˜¯éœæ…‹å·¥å» æ¨¡å¼?  
Ans: ç°¡å–®å·¥å» åˆç¨±ç‚ºéœæ…‹å·¥å» æ¨¡å¼ï¼Œä¸€èˆ¬ä¾†èªªï¼ŒåŒä¸€å·¥å» å…§æ‰€ç”¢ç”Ÿçš„é¡åˆ¥æœƒæœ‰ä¸€å€‹å…±åŒçš„çˆ¶é¡åˆ¥(ä»‹é¢)ã€‚

å‡è¨­æœ‰ä¸€å†’éšªè€…(çˆ¶é¡åˆ¥)è¨“ç·´ç‡Ÿ(ç°¡å–®å·¥å» )ï¼Œå†’éšªè€…ç¨®é¡æœ‰å¼“ç®­æ‰‹(å¯¦é«”ç”¢å“)ã€é¬¥å£«(å¯¦é«”ç”¢å“)ã€‚ä»Šå¤©è‹¥è¦å¢åŠ ç¨®é¡(å¦‚æ³•å¸«)ï¼Œå°±å¾—è¦ä¿®æ”¹è¨“ç·´ç‡Ÿé¡åˆ¥å…§çš„ç¨‹å¼ç¢¼ï¼Œåœ¨å†’éšªè€…æ–¹æ³•ä¸­å¢åŠ åˆ†æ”¯ï¼Œå› æ­¤ç°¡å–®å·¥å» ä¸èƒ½ç®—æ˜¯ä¸€å€‹å¥å…¨çš„è¨­è¨ˆæ¨¡å¼ã€‚

ä¸éåœ¨å°å‹çš„è»Ÿé«”æ¶æ§‹ä¸­å¾ˆå¥½ç”¨ï¼Œå¯¦å‹™ä¸Šä¹Ÿå¸¸å¸¸æœƒç”¨åˆ°é€™å€‹ç°¡å–®çš„æ¨¡å¼ã€‚

â€»è³‡æ–™ä¾†æº:[ç°¡å–®å·¥å» æ¨¡å¼](https://skyyen999.gitbooks.io/-study-design-pattern-in-java/content/simpleFactory.html)

ç°¡å–®å·¥å» :
```
public class TrainingCamp {
    public static Adventurer trainAdventurer(String type){
        switch(type){
            case "archer" : {
                System.out.println("è¨“ç·´ä¸€å€‹å¼“ç®­æ‰‹");
                return new Archer();             
            }
            case "warrior": {
                ...               
            }
}
```
çˆ¶é¡åˆ¥:
```
// å†’éšªè€…(Product)
public interface Adventurer {
    //å‘Šè¨´åˆ¥äººä½ æ˜¯å“ªç¨®å†’éšªè€…
    String getType();
}

// å¼“ç®­æ‰‹(ConcreteProduct)
public class Archer implements Adventurer {
    @Override
    public String getType() {
        System.out.println("æˆ‘æ˜¯å¼“ç®­æ‰‹");
        return  this.getClass().getSimpleName();
    }
}
```
æ¸¬è©¦ç¢¼:
```
public class VillageTest {
    @Test
    public void test(){
        //æ–°æ‰‹æ‘è¨“ç·´å†’éšªè€…
        Adventurer memberA = Village.trainAdventurer("archer");
        //é€™é‚Šç”¨Junitä¾†å¹«æˆ‘å€‘åˆ¤æ–·è¨“ç·´å‡ºä¾†çš„å†’éšªè€…æ˜¯ä¸æ˜¯æˆ‘å€‘æƒ³è¦çš„
        Assert.assertEquals(memberA.getType(), "Archer");
        //ouput:æˆ‘æ˜¯å¼“ç®­æ‰‹
    }
}
```

#### 3.ä»€éº¼æ˜¯æŠ½è±¡å·¥å» (Abstract Factory)?  
Ans:ç‚ºäº†æ”¹å–„ç°¡å–®å·¥å» æ¨¡å¼éœ€è¦ç›´æ¥ä¿®æ”¹å·¥å» é¡åˆ¥è£¡é¢çš„ç¨‹å¼ç¢¼ï¼Œç ´å£é–‹æ”¾/å°é–‰åŸå‰‡çš„å•é¡Œï¼Œåœ¨å·¥å» æ¨¡å¼ä¸­ï¼Œå°‡å·¥å» (Factory)æå‡ç‚ºä¸€ç¨®**æŠ½è±¡**çš„æ¦‚å¿µ--ä»‹é¢(Interface)ã€‚

å·¥å» ä»‹é¢åªæœƒè¦ç¯„å¯¦é«”å·¥å» é¡åˆ¥(Concrete Factory)æ‡‰è©²è¿”å›å“ªç¨®ç”¢å“ï¼Œå¯¦éš›ä¸Šè¦å¦‚ä½•è£½ä½œç”¢å“å‰‡äº¤çµ¦å¯¦é«”å·¥å» ä¾†å¯¦ä½œã€‚

ä»¥å‰ä¾‹ä¾†èªªï¼Œæ–°æ‰‹æ‘ç¾åœ¨å»ºç«‹äº†å…©åº§è¨“ç·´ç‡Ÿï¼Œå¼“ç®­æ‰‹è¨“ç·´ç‡Ÿã€é¬¥å£«è¨“ç·´ç‡Ÿã€‚å¦‚æœæƒ³è¦ä¿®æ”¹å¼“ç®­æ‰‹çš„è¨“ç·´æµç¨‹ï¼Œå°±ä¿®æ”¹å¼“ç®­æ‰‹è¨“ç·´ç‡Ÿè£¡é¢çš„ç¨‹å¼ç¢¼ã€‚å¦‚æœå¢åŠ è¨“ç·´ç¨®é¡ï¼Œå°±å¤šè“‹ä¸€åº§è¨“ç·´ç‡Ÿã€‚

â€»è³‡æ–™ä¾†æº:[æŠ½è±¡å·¥å» æ¨¡å¼](https://skyyen999.gitbooks.io/-study-design-pattern-in-java/content/abstractFactory1.html)

å·¥å» ä»‹é¢èˆ‡å¯¦ä½œçš„å·®åˆ¥:
```
/**
 *  å†’éšªè€…è¨“ç·´ç‡Ÿä»‹é¢(Factory)-é€™é‚Šåªæ˜¯ä¸€å€‹æ¦‚å¿µæˆ–è¦ç¯„ï¼Œè¦è¨“ç·´ä»€éº¼ï¼Œæ€éº¼è¨“ç·´ç•™çµ¦å­é¡åˆ¥å¯¦ä½œ
 */
public interface TrainingCamp {
    //è¨“ç·´å†’éšªè€…çš„éç¨‹ï¼Œè¨“ç·´å¾Œè«‹çµ¦æˆ‘ä¸€å€‹å†’éšªè€…
    public Adventurer trainAdventurer();
}

/**
 * å¼“ç®­æ‰‹è¨“ç·´ç‡Ÿ(ConcreteFactory)
 */
public class ArcherTrainingCamp implements TrainingCamp {

    @Override
    public Adventurer trainAdventurer() {
        System.out.println("è¨“ç·´ä¸€å€‹å¼“ç®­æ‰‹");
        return new Archer(); 
    }

}
```

#### 4.ç‚ºä»€éº¼ç•¶å»ºæ§‹å­å¤šè¼‰æ™‚ï¼Œä½¿ç”¨éœæ…‹å·¥å» æ–¹æ³•å„ªæ–¼ç›´æ¥ä½¿ç”¨å»ºæ§‹å­?  
```
Complex FUL = Complex.FromRealNumber(23.0)
Complex FUL =  new Complex(23.0) //ç›´æ¥ç”¨å»ºæ§‹å­
```
Ans:å› ç‚ºå·¥å» æ–¹æ³•å…·å‚™åç¨±å¯ä»¥æ˜ç¢ºæè¿°ç‰©ä»¶çš„å‰µå»ºæ„åœ–å’Œä¸Šä¸‹æ–‡ã€é¿å…å»ºæ§‹å­å¤šè¼‰çš„æ··æ·†å·¥å» æ–¹æ³•ã€å…è¨±åœ¨å‰µå»ºç‰©ä»¶æ™‚åŸ·è¡Œé¡å¤–çš„é‚è¼¯æˆ–æª¢æŸ¥ã€å¯ä»¥è¿”å›ä¸åŒå‹åˆ¥çš„ç‰©ä»¶ç­‰å„ªé»ã€‚

åˆæ‰€è¬‚å»ºæ§‹å­å¤šè¼‰æ„æŒ‡ä¸€å€‹é¡åˆ¥ä¸­å®šç¾©å¤šå€‹å»ºæ§‹å­ï¼ˆConstructorï¼‰ï¼Œé€™äº›å»ºæ§‹å­çš„åç¨±ç›¸åŒï¼Œä½†åƒæ•¸çš„æ•¸é‡ã€é¡å‹æˆ–é †åºä¸åŒã€‚

#### private & publicå·®åœ¨å“ªï¼Ÿ
Ans:publicåœ¨åˆ¥çš„classæˆ–æ˜¯mainè£¡é¢ä¹Ÿå¯ä»¥ç”¨ã€‚


## ğŸ“– ä¸‹ä¸€ç« ç¯€ä¸»é¡Œé å‘Š
        
åœ¨äº†è§£åŸºæœ¬å®šç¾©å¾Œï¼Œä¸‹ä¸€ç« è¦è«‡çš„æ˜¯å‡½å¼ã€‚